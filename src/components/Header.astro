---
const { pathname } = Astro.url;
const pathParts = pathname.split('/').filter(p => p);

// Build breadcrumb
let breadcrumb = '';
if (pathParts.length > 0) {
	breadcrumb = '<a href="/">~</a> / ';
	breadcrumb += pathParts.map((part, i) => {
		const href = '/' + pathParts.slice(0, i + 1).join('/');
		// Capitalize and format the part
		const label = part.charAt(0).toUpperCase() + part.slice(1);
		return `<a href="${href}/">${label}</a>`;
	}).join(' / ');
} else {
	breadcrumb = '~';
}
---

<header>
	<div class="nav-container">
		<div class="breadcrumb">
			<strong>Navigation</strong>
			<span set:html={breadcrumb} />
		</div>
	</div>
	<hr />
</header>

<style>
	header {
		margin: 0;
		padding: 1rem;
		background: white;
	}

	.nav-container {
		max-width: 900px;
		margin: 0 auto;
	}

	.breadcrumb {
		display: flex;
		gap: 1rem;
		align-items: baseline;
		font-size: 1rem;
	}

	hr {
		margin: 1rem 0 0 0;
		border: none;
		border-top: 1px solid var(--border-color);
	}

	@media (max-width: 720px) {
		.breadcrumb {
			flex-direction: column;
			gap: 0.5rem;
		}
	}
</style>
